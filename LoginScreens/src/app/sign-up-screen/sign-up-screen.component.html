<form [formGroup]="signUpForm" (ngSubmit)="signUp()" class="container" style="width: 35vw">
  <h1>Sign Up</h1>
  <div class="row">
    <div class="col-4">
      <label for="username">User name</label>
    </div>
    <div class="col-8">
      <input type="text" name="username" formControlName="username" required minlength="8" maxlength="50"
        placeholder="Enter a user name">
      <div *ngIf="username.invalid && (username.dirty || username.touched)" class="alert">
        <p *ngIf="username.errors?.['required']" id="usernameRequired">User name is required</p>
        <p *ngIf="username.errors?.['minlength']">User name must be at least 8 letters</p>
        <p *ngIf="username.errors?.['maxlength']">User name must be no more than 40 letters</p>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-4">
      <label for="password">Password</label>
    </div>
    <div class="col-8">
      <input type="password" name="password" formControlName="password" required maxlength="40" minlength="8"
        placeholder="Enter a password">
      <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert">
        <p *ngIf="password.errors?.['required']">Password is required</p>
        <p *ngIf="password.errors?.['minlength']">Password must be at least 8 letters</p>
        <p *ngIf="password.errors?.['maxlength']">Password must be no more than 40 letters</p>
        <p *ngIf="password.errors?.['tooSimple'] && (password.touched || password.dirty)" class="alert">
          Password must have 1 digit, 2 lowercase letters, 1 uppercase letter and one of @ # $ %
        </p>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-4">
      <label for="password">Confirm password</label>
    </div>
    <div class="col-8">
      <input type="password" name="confirmedPassword" formControlName="confirmedPassword" required maxlength="40" minlength="8"
        placeholder="Confirm your password">
      <div *ngIf="confirmedPassword.invalid && (confirmedPassword.dirty || confirmedPassword.touched)" class="alert">
        <p *ngIf="confirmedPassword.errors?.['required']">Confirmed password is required</p>
        <p *ngIf="confirmedPassword.errors?.['minlength']">Confirmed password must be at least 8 letters</p>
        <p *ngIf="confirmedPassword.errors?.['maxlength']">Confirmed password must be no more than 40 letters</p>
        <p *ngIf="confirmedPassword.errors?.['tooSimple'] && (confirmedPassword.touched || confirmedPassword.dirty)" class="alert">
          Confirmed password must have 1 digit, 2 lowercase letters, 1 uppercase letter and one of @ # $ %
        </p>
      </div>
    </div>
  </div>
  <div class="row commands">
    <p *ngIf="signUpForm.errors?.['passwordsDoNotMatch'] && (signUpForm.touched || signUpForm.dirty)" class="alert">
      Confirm password must match password
    </p>
    <ul *ngIf="nameAlreadyTaken" id="suggestedNamesList">
      <li *ngFor="let suggestion of suggestedNames">suggestion</li>
    </ul>
    <button class="card" target="_blank" rel="noopener" type="button" (click)="logIn()">
      <fa-icon [icon]="faSignIn"></fa-icon>
      <span>Login Screen</span>
    </button>
    <button class="card" target="_blank" rel="noopener" type="submit" [disabled]="signUpForm.invalid" (click)="signUp()">
      <fa-icon [icon]="faSignUp"></fa-icon>
      <span>Sign Up</span>
    </button>
  </div>
</form>
